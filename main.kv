#:import get_color_from_hex kivy.utils.get_color_from_hex


<MainLayout>:
    MDBoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        md_bg_color: app.theme_cls.primary_color

        MDToolbar:
            id: tool_main
            title: "Tribal Wars Bot"
            #left_action_items: [['cog', lambda x: app.menu.open()]]
            #right_action_items: [['dots-vertical']]

        MDBottomNavigation:

            MDBottomNavigationItem:
                id: screen_acc
                name: "screen_acc"
                text: "Accounts"
                icon: 'account'
                on_tab_press: app.press_acc()

            MDBottomNavigationItem:
                id: screen_vil
                name: "screen_vil"
                text: "Villages"
                icon: 'home'
                on_tab_press: app.press_vil()

            MDBottomNavigationItem:
                id: screen_attack
                name: "screen_attack"
                text: "Attack Manager"
                icon: 'sword-cross'
                on_tab_press: app.press_attack()


<AccLayout>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        MDToolbar:
            id: tool_acc
            left_action_items: [['cog', lambda x: app.menu.open()]]
            elevation: 8

        MDGridLayout:
            cols: 4
            padding: 10
            MDLabel:
                text: "Bauen"

            MDCheckbox:
                id: check_build
            MDLabel:
                text: "Raubzug"

            MDCheckbox:
                id: check_gather
            MDLabel:
                text: "Farmen"

            MDCheckbox:
                id: check_farm
            MDLabel:
                text: "Rekrutieren"

            MDCheckbox:
                id: check_recruit

        MDGridLayout:
            cols: 2
            padding: 10
            MDLabel:
                text: f"{str(slider_apm.value)} Aktionen / min"
            Slider:
                id: slider_apm
                min: 1
                max: 150
                step: 1
                orientation: "horizontal"
                cursor_image: 'images/clock.png'
            MDLabel:
                text: f"{str(slider_sleep.value)} sek Pause"

            Slider:
                id: slider_sleep
                min: 1
                max: 150
                step: 1
                orientation: "horizontal"
                cursor_image: 'images/clock.png'

            MDLabel:
                text: f"{str(slider_farm.value)} min Zwangsabstand"

            Slider:
                id: slider_farm
                min: 1
                max: 60
                step: 1
                orientation: "horizontal"
                cursor_image: 'images/light.png'
            MDLabel:
                text: f"{str(slider_scout.value)} min Zwangsabstand"
            Slider:
                id: slider_scout
                min: 1
                max: 1000
                step: 1
                orientation: "horizontal"
                cursor_image: 'images/spy.png'
            MDLabel:
                text: f"{str(slider_ram.value)} min Zwangsabstand"
            Slider:
                id: slider_ram
                min: 1
                max: 1000
                step: 1
                orientation: "horizontal"
                cursor_image: 'images/ram.png'

        MDBottomNavigation:
            size_hint_y: 0.2
            MDBottomNavigationItem:
                text: "Cancel"
                icon: 'cancel'
                on_tab_press:
                    root.manager.current = "main"
                    root.manager.transition.direction = "right"

            MDBottomNavigationItem:
                text: "Save"
                icon: 'content-save'
                on_tab_press:
                    app.save_acc_data()
                    root.manager.current = "main"
                    root.manager.transition.direction = "right"







<VilLayout>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        MDToolbar:
            id: tool_vil
            left_action_items: [['cog', lambda x: app.menu.open()]]
            elevation: 8
        GridLayout:
            cols: 4
            padding: 10

            Label:
                text: "Bauen"
            CheckBox:
                id: check_build
            Label:
                text: "Raubzug"
            CheckBox:
                id: check_gather
            Label:
                text: "Farmen"
            CheckBox:
                id: check_farm
            Label:
                text: "Rekrutieren"
            CheckBox:
                id: check_recruit
            Label:
                text: "Wall rammen"
            CheckBox:
                id: check_crush_wall
            Label:
                text: "Gebäude katten"
            CheckBox:
                id: check_crush_building

        MDBottomNavigation:
            size_hint_y: 0.2
            MDBottomNavigationItem:
                text: "Cancel"
                icon: 'cancel'
                on_tab_press:
                    root.manager.current = "main"
                    root.manager.transition.direction = "right"

            MDBottomNavigationItem:
                text: "Save"
                icon: 'content-save'
                on_tab_press:
                    app.save_vil_data()
                    root.manager.current = "main"
                    root.manager.transition.direction = "right"

<GatherLayout>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        MDToolbar:
            id: tool_gather

        GridLayout:
            cols: 4     # image |  input  |  label   |   input
            padding: 10

            # Spear
            Image:
                source: 'images/spear.png'
            CheckBox:
                id: check_gather_spear
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_spear
            # Sword
            Image:
                source: 'images/sword.png'
            CheckBox:
                id: check_gather_sword
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_sword
            # Axe
            Image:
                source: 'images/axe.png'
            CheckBox:
                id: check_gather_axe
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_axe
            # Archer
            Image:
                source: 'images/archer.png'
            CheckBox:
                id: check_gather_archer
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_archer
            # Light
            Image:
                source: 'images/light.png'
            CheckBox:
                id: check_gather_light
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_light
            # Marcher
            Image:
                source: 'images/marcher.png'
            CheckBox:
                id: check_gather_marcher
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_marcher
            # Heavy
            Image:
                source: 'images/heavy.png'
            CheckBox:
                id: check_gather_heavy
            Label:
                text: 'Zurückhalten:'
            TextInput:
                id: input_gather_heavy



        MDBottomNavigation:
            size_hint_y: 0.2
            MDBottomNavigationItem:
                text: "Cancel"
                icon: 'cancel'
                on_tab_press:
                    root.manager.current = "villages"
                    root.manager.transition.direction = "down"

            MDBottomNavigationItem:
                text: "Save"
                icon: 'content-save'
                on_tab_press:
                    app.save_gather_data()
                    root.manager.current = "villages"
                    root.manager.transition.direction = "down"

<FarmAssistLayout>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        MDToolbar:
            id: tool_fa

        GridLayout:
            cols: 2
            padding: 10
            #row_default_height: 50
            pos_hint: {'top': 0.9}
            size_hint: None, None

            Label:
                text: 'Vorlage A'
                #row_default_height: 50

                pos_hint: {'center_x': 0.1, 'top': 0.9}
                size_hint: None, None

            Label:
                text: 'Vorlage B'
                #row_default_height: 50

                pos_hint: {'center_x': 0.6, 'top': 0.9}
                size_hint: None, None

        GridLayout:
            cols: 4     # image |  input  |  image   |   input
            padding: 10

            # Spear
            Image:
                source: 'images/spear.png'
            TextInput:
                id: input_spear_a
            Image:
                source: 'images/spear.png'
            TextInput:
                id: input_spear_b
            # Sword
            Image:
                source: 'images/sword.png'
            TextInput:
                id: input_sword_a
            Image:
                source: 'images/sword.png'
            TextInput:
                id: input_sword_b
            # Axe
            Image:
                source: 'images/axe.png'
            TextInput:
                id: input_axe_a
            Image:
                source: 'images/axe.png'
            TextInput:
                id: input_axe_b
            # Archer
            Image:
                source: 'images/archer.png'
            TextInput:
                id: input_archer_a
            Image:
                source: 'images/archer.png'
            TextInput:
                id: input_archer_b
            # light
            Image:
                source: 'images/light.png'
            TextInput:
                id: input_light_a
            Image:
                source: 'images/light.png'
            TextInput:
                id: input_light_b
            # spy
            Image:
                source: 'images/spy.png'
            TextInput:
                id: input_spy_a
            Image:
                source: 'images/spy.png'
            TextInput:
                id: input_spy_b
            # marcher
            Image:
                source: 'images/marcher.png'
            TextInput:
                id: input_marcher_a
            Image:
                source: 'images/marcher.png'
            TextInput:
                id: input_marcher_b
            # heavy
            Image:
                source: 'images/heavy.png'
            TextInput:
                id: input_heavy_a
            Image:
                source: 'images/heavy.png'
            TextInput:
                id: input_heavy_b


        MDBottomNavigation:
            size_hint_y: 0.2
            MDBottomNavigationItem:
                text: "Cancel"
                icon: 'cancel'
                on_tab_press:
                    root.manager.current = "accounts"
                    root.manager.transition.direction = "down"

            MDBottomNavigationItem:
                text: "Save"
                icon: 'content-save'
                on_tab_press:
                    app.save_farmassist_data()
                    root.manager.current = "accounts"
                    root.manager.transition.direction = "down"

